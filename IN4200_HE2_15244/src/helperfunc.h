//=================================
// Include guard
#ifndef HELPERFUNC_H
#define HELPERFUNC_H

//=================================
// Include dependencies
#include <stdio.h>
#include <stdlib.h>
#include <math.h>
#include <time.h>

//=============================================================================
int alloc2D(int ***A, int M, int N)
//----------------------------------------------------------------------------
// Allocate 2D array
//
// Arguments
// ---------
// **A: Declared
//----------------------------------------------------------------------------
{
	*A = malloc(M * sizeof *A);
	(*A)[0] = malloc(M*N * sizeof (*A)[0]);
	if (!(*A)[0] || !*A) {
		// Allocation failed.
		printf("Allocation failed\n");
		return 1;
	}
	for (size_t i = 1; i < M; i++) {
		(*A)[i] = &((*A)[0][i*N]);
	}
	return 0;
}
//=============================================================================

//=============================================================================
void zeros2D(int ***A, int M, int N)
//----------------------------------------------------------------------------
// Allocate 2D array initialized with zeros
//
// Arguments
// ---------
// A : Address of 2D array
// M : number of rows
// N : number of cols
//----------------------------------------------------------------------------
{
	*A = calloc(M, sizeof (*A));
	(*A)[0] = calloc(M*N, sizeof (*A)[0]);
	for (size_t i = 1; i < M; i++) {
		(*A)[i] = &((*A)[0][i*N]);
	}
}
//=============================================================================

//=============================================================================
void printvec(int *v, int n)
//----------------------------------------------------------------------------
// Nicely formatted print of 1D arrays
//
// Arguments
// ---------
// *v: 1D array of type int
// n: size of array as int
//----------------------------------------------------------------------------
{
	printf("| ");
	for (size_t i = 0; i < n; ++i) {
		printf("%d ", v[i]);
	}
	printf("|\n");
}
//=============================================================================


//=============================================================================
void printmat(int** A, int M, int N)
//----------------------------------------------------------------------------
// Nicely formatted print of 2D arrays of size M x N
//
// Arguments
// ---------
// **A: 2D array of type int
// m: array dimension as int
// n: array dimension as int
//----------------------------------------------------------------------------
{
	for (size_t i = 0; i < M; ++i) {
		printf("| ");
		for (size_t j = 0; j < N; ++j) {
			printf("%d ", A[i][j]);
		}
		printf("|\n");
	}
}
//=============================================================================


//=============================================================================
void print_testmat(int** A)
//----------------------------------------------------------------------------
// Nicely formatted print of 2D test array
//
// Arguments
// ---------
// **A: 2D test array
//----------------------------------------------------------------------------
{
	for (size_t i = 0; i < 4; ++i) {
		printf("| ");
		for (size_t j = 0; j < 5; ++j) {
			printf("%d ", A[i][j]);
		}
		printf("|\n");
	}
}
//=============================================================================


//=============================================================================
void random_matrix(int*** A, int M, int N)
//----------------------------------------------------------------------------
// Assign 2D array random nonnegative integer values 0 - 9
//
// Arguments
// ---------
// **A: 2D test array
//----------------------------------------------------------------------------
{
	zeros2D(A, M, N);
	for (size_t i=0; i<M; i++) {
		for (size_t j=0; j<N; j++) {
			(*A)[i][j] = (rand() % 10);
		}
	}
}
//=============================================================================



//=============================================================================
void test_matrix(int*** A)
//----------------------------------------------------------------------------
// Assign 2D test array values
//
// Arguments
// ---------
// **A: 2D test array
//----------------------------------------------------------------------------
{
	zeros2D(A, 4, 5);
	(*A)[0][0] = 1;
	(*A)[0][1] = 5;
	(*A)[0][2] = 6;
	(*A)[0][3] = 3;
	(*A)[0][4] = 1;
	(*A)[1][0] = 2;
	(*A)[1][1] = 4;
	(*A)[1][2] = 4;
	(*A)[1][3] = 1;
	(*A)[1][4] = 7;
	(*A)[2][0] = 7;
	(*A)[2][1] = 2;
	(*A)[2][2] = 3;
	(*A)[2][3] = 1;
	(*A)[2][4] = 2;
	(*A)[3][0] = 3;
	(*A)[3][1] = 2;
	(*A)[3][2] = 2;
	(*A)[3][3] = 5;
	(*A)[3][4] = 3;
}
//=============================================================================


//=============================================================================
void free2D(int **A)
//----------------------------------------------------------------------------
// Deallocate 2D array
//
// Arguments
// ---------
// **A: 2D array
//----------------------------------------------------------------------------
{
	free(A[0]);
	free(A);
}
//=============================================================================




#endif // __HELPERFUNC_H_INCLUDED__
